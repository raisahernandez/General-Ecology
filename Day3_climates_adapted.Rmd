---
title: 'Climates'
output: html_document
css: style.css
author: BIOL 350, California State University-Long Beach, Fall 2019
---

<style type="text/css">
.main-container {
  max-width: 800px;
}
</style>

<style>
pre code, pre, code {
  white-space: pre !important;
  overflow-x: scroll !important;
  word-break: keep-all !important;
  word-wrap: initial !important;
}
</style>

***
Climate is the long-term description of weather, the latter defined by the atmospheric condition regarding heat, humidity, sunshine, wind, rain at a particular time and location. As organisms experience these atmospheric factors daily, climate shapes where and how organisms live. Thus, understanding how do physical principles influence the global climate is key to describe, predict and model phenomena in nature.  
<br><br>
The main objectives for today are to:

  + Understand the relationship between insolation (the solar radiation that reaches the Earth's surface) and global temperatures
  + Understand why global temperatures vary across latitude 
  + Carry out and interprete correlation analysis
<br><br>

***
Resources:

  + [NASA Surface meteorology and Solar Energy database](https://power.larc.nasa.gov/data-access-viewer/)

Datasets (to download, Save As Page Source):

  + [insol_temp](https://raisahernandez.github.io/General-Ecology/insol_temp.csv)

***
<br>
<center>
**Part I: Solar radiation and global temperatures**
</center>
<br>


Step 1. Import the data to RStudio 

```{r}
insol_temp <- read.csv("insol_temp.csv", header=TRUE)
```

Note that negative latitudes represent the southern hemisphere (S) and positive latitudes represent the northern hemisphere (N).

><span style="color:cyan; font-family:Arial; font-size:1em;">**Question 1:**</span> How many observations and variables each dataframe has? 
<br><br>



Step 2. Explore (plot) the insolation data in relation to latitude  

Let's plot the data using basic R. For this, use the function plot(). The first argument is the independent variable and the secnd argument is the dependet variable. Note that you can use a dollar sign $ to indicate "within".

```{r,fig.show="hide"}
plot(insol_temp$lat,insol_temp$insol)

# Adding axes titles
plot(insol_temp$lat,insol_temp$insol,ylab="Insolation",xlab="Latitude")
```

><span style="color:cyan; font-family:Arial; font-size:1em;">**Question 1:**</span> Is there a general pattern? Describe it.
<br><br>


Step 3. Explore the temperature data in relation to latitude

><span style="color:red; font-family:Arial; font-size:1em;">**Challenge:**</span> Following Step 2, plot the temperature data in relation to latitude.

```{r,include=FALSE}
plot(insol_temp$lat,insol_temp$temp,ylab="Temperature (°C)",xlab="Latitude")
```

><span style="color:cyan; font-family:Arial; font-size:1em;">**Question 1:**</span> After exploring both datasets, insolation and temperature across latitudes, predict the relationship between temperature and insolation.
<br><br>

Step 4. Correlation analysis between insolation and temperature 

To test the strength of the relationship between two numerical variables (variables that can be measured or counted), you can use correlation analysis. This analysis estimates the correlation coefficient (r), a value from 0 to 1 (check figure below). The closer r is to 1, the closer the data points are to form a straight line, indicating high correlation. The closer r is to 0, the more scatter there is in the data indicating a weaker correlation. The sign indicates positive or negative correlation. 


<center>
![](corr.png)
</center>
<br><br>

Let's check whether temperature and insolation correlate!

```{r,message=FALSE,fig.show='hide'}
plot(insol_temp$insol,insol_temp$temp,ylab="Temperature (°C)",xlab="Insolation")
```

The R function cor() estimates the correlation coefficient r with the formula below.
<br><br>

<center>
![](formula.png)
</center>
<br><br>


Go ahead and do a correlation analysis for insolation and temperature using the function cor(). The first argument is variable 1 (e.g., insol) and the second argument is variable 2 (e.g., temp). Note that you can use a dollar sign $ to indicate "within".
```{r,results='hide'}
# Correlation analysis
cor(insol_temp$insol,insol_temp$temp)
```

><span style="color:cyan; font-family:Arial; font-size:1em;">**Question 1:**</span> What is the coefficient of correlation? Interpret it.
<br><br>

><span style="color:cyan; font-family:Arial; font-size:1em;">**Question 2:**</span> Do correlation analysis answer questions on causality? Explain.
<br><br>


<center>
**FIN**

**Great Work!**
